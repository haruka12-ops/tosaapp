<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã»ã‚æ—¥è¨˜ã‚¢ãƒ—ãƒª</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f7fa;
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }
    h1 {
      text-align: center;
    }
    textarea {
      width: 100%;
      height: 60px;
      margin-bottom: 10px;
      padding: 8px;
      font-size: 14px;
    }
    button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #43a047;
    }
    .praise {
      margin-top: 20px;
      padding: 15px;
      background: #fff3cd;
      border-radius: 5px;
      text-align: center;
      font-weight: bold;
    }
    .history {
      margin-top: 30px;
    }
    .entry {
      background: white;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <h1>ğŸŒŸ ã»ã‚æ—¥è¨˜ ğŸŒŸ</h1>

  <p>ä»Šæ—¥ã®3è¡Œæ—¥è¨˜ã‚’æ›¸ã“ã†</p>

  <textarea id="line1" placeholder="1è¡Œç›®"></textarea>
  <textarea id="line2" placeholder="2è¡Œç›®"></textarea>
  <textarea id="line3" placeholder="3è¡Œç›®"></textarea>

  <button onclick="saveDiary()">ä¿å­˜ã—ã¦ã»ã‚ã¦ã‚‚ã‚‰ã†</button>

  <div id="praise" class="praise" style="display:none;"></div>

  <div class="history">
    <h2>ğŸ“– éå»ã®æ—¥è¨˜</h2>
    <div id="entries"></div>
  </div>

  <script>
    const praises = [
      "ä»Šæ—¥ã‚‚ã‚ˆãé ‘å¼µã£ãŸã­ï¼ãˆã‚‰ã„ï¼âœ¨",
      "ç¶šã‘ã¦ã„ã‚‹ã®ãŒæœ¬å½“ã«ã™ã”ã„ã‚ˆï¼ğŸ‘",
      "ã‚ãªãŸã¯ã¡ã‚ƒã‚“ã¨å‰ã«é€²ã‚“ã§ã‚‹ã‚ˆğŸ˜Š",
      "å°ã•ãªåŠªåŠ›ãŒå¤§ããªåŠ›ã«ãªã‚‹ã‚ˆğŸ’ª",
      "ä»Šæ—¥ã®è‡ªåˆ†ã‚’ã—ã£ã‹ã‚Šèªã‚ã¦ã‚ã’ã‚ˆã†ğŸŒˆ"
    ];

    function saveDiary() {
      const l1 = document.getElementById("line1").value.trim();
      const l2 = document.getElementById("line2").value.trim();
      const l3 = document.getElementById("line3").value.trim();

      if (!l1 && !l2 && !l3) {
        alert("ä½•ã‹æ›¸ã„ã¦ã¿ã‚ˆã†ï¼ğŸ˜Š");
        return;
      }

      const date = new Date().toLocaleDateString();

      const entry = {
        date: date,
        lines: [l1, l2, l3]
      };

      let diaries = JSON.parse(localStorage.getItem("diaries")) || [];
      diaries.unshift(entry);
      localStorage.setItem("diaries", JSON.stringify(diaries));

      showPraise();
      showEntries();
      clearForm();
    }

    function showPraise() {
      const praise = praises[Math.floor(Math.random() * praises.length)];
      const praiseDiv = document.getElementById("praise");
      praiseDiv.textContent = praise;
      praiseDiv.style.display = "block";
    }

    function showEntries() {
      const entriesDiv = document.getElementById("entries");
      const diaries = JSON.parse(localStorage.getItem("diaries")) || [];

      entriesDiv.innerHTML = "";

      diaries.forEach(d => {
        const div = document.createElement("div");
        div.className = "entry";

        div.innerHTML = `
          <strong>${d.date}</strong><br>
          ${d.lines[0] || ""}<br>
          ${d.lines[1] || ""}<br>
          ${d.lines[2] || ""}
        `;

        entriesDiv.appendChild(div);
      });
    }

    function clearForm() {
      document.getElementById("line1").value = "";
      document.getElementById("line2").value = "";
      document.getElementById("line3").value = "";
    }

    // èµ·å‹•æ™‚ã«èª­ã¿è¾¼ã¿
    showEntries();
  </script>

</body>
</html>
